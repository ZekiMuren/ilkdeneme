
<!DOCTYPE html>
<html>
<head>
  <title>
    Zeki MÃ¼ren
  </title>
<body>
	
	  <link rel="stylesheet" media="all" href="https://explorer.bitquery.io/packs/css/application-cd1ae905.css" />
  <script src="https://explorer.bitquery.io/packs/js/application-a7d6dab5492845653f9e.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/vega@5.19.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.0.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.15.1"></script>
  <script src="https://cdn.jsdelivr.net/gh/bitquery/widgets-runtime@v1.0/dataSource.js"></script>

  <link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/gh/bitquery/graphs@v1.0.18/dist/graphs.min.css">
  <script src="https://cdn.jsdelivr.net/gh/bitquery/graphs@v1.0.18/dist/graphs.min.js"></script>

  <link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/gh/bitquery/widgets@v1.3.12/dist/assets/css/widgets.css">
  <script src="https://cdn.jsdelivr.net/gh/bitquery/widgets@v1.3.12/dist/widgets.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/vega@5.19.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5.0.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.15.1"></script>
 
<script src="https://cdn.jsdelivr.net/gh/bitquery/widgets-runtime@v1.0/dataSource.js"></script>
 <div>  <div class="row">
    <div class="col-12 col-lg-6 mb-4">
  <div class="card">
    <div class="card-header">Token attributes</div>
    <div class="card-body">
      <div id="ethereum_token_attributes">Loading...</div>
    </div>
  </div>
</div>

<script>
    $( document ).ready(function() {

        var query = new widgets.query(`
            query($network: EthereumNetwork!, $address: String!) {
              ethereum(network: $network) {
                address(address: {is: $address}){

                  annotation
                  address

                  smartContract {
                    contractType
                    currency{
                      symbol
                      name
                      decimals
                      tokenType
                    }
                  }
                  balance
                }
              }
            }`);



        new widgets.table('#ethereum_token_attributes', query, 'ethereum.address', {
            title: 'Token attributes',
            renderData: function(data){
                item = data[0];
                return !item ? [] : [
                    {name: 'Symbol', value: item.smartContract.currency.symbol},
                    {name: 'Token Type', value: item.smartContract.currency.tokenType},
                    {name: 'Name', value: item.smartContract.currency.name},
                    {name: 'Number of Decimals', value: item.smartContract.currency.decimals},
                    {name: 'Annotation', value: item.annotation}
                ];
            },
            dataOptions: [
                {
                    title: 'Property',
                    type: 'string-ellipsis',
                    path: 'name',
                    html_class: 'text-info font-weight-bold'
                },
                {
                    title:  'Value',
                    type: 'string-ellipsis',
                    path: 'value',
                    urlCallbackName: 'property_value_path'
                },
            ]
        });

        query.request({ network: 'avalanche',
            address: '0x093783055f9047c2bff99c4e414501f8a147bc69'});

    });



</script>
    <div class="col-12 col-lg-6 mb-4">
  <div class="card">
    <div class="card-header">Token transfer statistics</div>
    <div class="card-body">
      <div id="token_statistics">Loading...</div>
    </div>
  </div>
</div>

<script>

$( document ).ready(function() {


    var query = new widgets.query(`query ($network: EthereumNetwork!,
                              $token: String!,
                              $from: ISO8601DateTime,
                              $till: ISO8601DateTime){
                          ethereum(network: $network){
                            transfers(currency: {is: $token}
                            amount: {gt: 0}
                            date: {since: $from till: $till}
                            ){

                              currency{
                                symbol
                              }

                              median: amount(calculate: median)
                              average: amount(calculate: average)

                              amount
                              count

                              days: count(uniq: dates)

                              sender_count: count(uniq: senders)
                              receiver_count: count(uniq: receivers)

                              min_date:minimum(of: date)
                              max_date:maximum(of: date)
                            }
                          }
                        }`);



    new widgets.table('#token_statistics', query, 'ethereum.transfers', {
        title: 'Token transfer statistics',
        renderData: function (data) {
            item = data[0];
            return !item ? [] : [
                {name: 'Transfer Count', value: item.count},

                {name: 'Uniq Senders', value: item.sender_count},
                {name: 'Uniq Receivers', value:item.receiver_count},

                {name: 'Total Amount', value: item.amount+' '+item.currency.symbol},

                {name: 'Median Transfer Amount', value: item.median+' '+item.currency.symbol},
                {name: 'Average Transfer Amount', value: item.average+' '+item.currency.symbol},


                {name: 'First transfer date', value: item.min_date},
                {name: 'Last transfer date', value: item.max_date},
                {name: 'Days token transfered', value: item.days},

            ];
        },
        dataOptions: [
            {
                title: 'Metric',
                type: 'string-ellipsis',
                path: 'name',
                html_class: 'text-info font-weight-bold'
            },
            {
                title: 'Value',
                type: 'string-ellipsis',
                path: 'value',
                urlCallbackName: 'property_value_path'
            },
        ]
    });

    query.request({
        network: 'avalanche',
        token: '0x093783055f9047c2bff99c4e414501f8a147bc69'
    });

});
</script>
  </div>
</div>
  
  
</body>
</html>
